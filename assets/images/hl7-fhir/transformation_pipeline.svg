<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 12.2.1 (20241206.2353)
 -->
<!-- Title: transformation_pipeline Pages: 1 -->
<svg width="466pt" height="540pt"
 viewBox="0.00 0.00 466.00 539.50" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 535.5)">
<title>transformation_pipeline</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-535.5 462,-535.5 462,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster_engine</title>
<path fill="#fff3e0" stroke="#f57c00" d="M133,-92.5C133,-92.5 339,-92.5 339,-92.5 345,-92.5 351,-98.5 351,-104.5 351,-104.5 351,-473 351,-473 351,-479 345,-485 339,-485 339,-485 133,-485 133,-485 127,-485 121,-479 121,-473 121,-473 121,-104.5 121,-104.5 121,-98.5 127,-92.5 133,-92.5"/>
<text text-anchor="middle" x="236" y="-467.7" font-family="Times,serif" font-size="14.00">Interface Engine</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_output</title>
<path fill="#e8f5e9" stroke="#388e3c" d="M20,-8C20,-8 438,-8 438,-8 444,-8 450,-14 450,-20 450,-20 450,-72.5 450,-72.5 450,-78.5 444,-84.5 438,-84.5 438,-84.5 20,-84.5 20,-84.5 14,-84.5 8,-78.5 8,-72.5 8,-72.5 8,-20 8,-20 8,-14 14,-8 20,-8"/>
<text text-anchor="middle" x="229" y="-67.2" font-family="Times,serif" font-size="14.00">FHIR Resources (JSON)</text>
</g>
<!-- input -->
<g id="node1" class="node">
<title>input</title>
<path fill="#e3f2fd" stroke="#1976d2" d="M299.12,-531.5C299.12,-531.5 172.88,-531.5 172.88,-531.5 166.88,-531.5 160.88,-525.5 160.88,-519.5 160.88,-519.5 160.88,-507.5 160.88,-507.5 160.88,-501.5 166.88,-495.5 172.88,-495.5 172.88,-495.5 299.12,-495.5 299.12,-495.5 305.12,-495.5 311.12,-501.5 311.12,-507.5 311.12,-507.5 311.12,-519.5 311.12,-519.5 311.12,-525.5 305.12,-531.5 299.12,-531.5"/>
<text text-anchor="middle" x="236" y="-510" font-family="Arial" font-size="10.00">HL7 v2.x ORM/ORU Message</text>
</g>
<!-- s1 -->
<g id="node2" class="node">
<title>s1</title>
<path fill="white" stroke="black" d="M314.12,-452.5C314.12,-452.5 157.88,-452.5 157.88,-452.5 151.88,-452.5 145.88,-446.5 145.88,-440.5 145.88,-440.5 145.88,-428.5 145.88,-428.5 145.88,-422.5 151.88,-416.5 157.88,-416.5 157.88,-416.5 314.12,-416.5 314.12,-416.5 320.12,-416.5 326.12,-422.5 326.12,-428.5 326.12,-428.5 326.12,-440.5 326.12,-440.5 326.12,-446.5 320.12,-452.5 314.12,-452.5"/>
<text text-anchor="middle" x="236" y="-437" font-family="Arial" font-size="10.00">Step 1: Parse HL7 segments</text>
<text text-anchor="middle" x="236" y="-425" font-family="Arial" font-size="10.00">Identify MSH, PID, ORC, OBR, OBX</text>
</g>
<!-- input&#45;&gt;s1 -->
<g id="edge1" class="edge">
<title>input&#45;&gt;s1</title>
<path fill="none" stroke="black" d="M236,-495.03C236,-485.97 236,-474.67 236,-464.36"/>
<polygon fill="black" stroke="black" points="239.5,-464.42 236,-454.42 232.5,-464.42 239.5,-464.42"/>
</g>
<!-- s2 -->
<g id="node3" class="node">
<title>s2</title>
<path fill="white" stroke="black" d="M326.12,-373.5C326.12,-373.5 145.88,-373.5 145.88,-373.5 139.88,-373.5 133.88,-367.5 133.88,-361.5 133.88,-361.5 133.88,-349.5 133.88,-349.5 133.88,-343.5 139.88,-337.5 145.88,-337.5 145.88,-337.5 326.12,-337.5 326.12,-337.5 332.12,-337.5 338.12,-343.5 338.12,-349.5 338.12,-349.5 338.12,-361.5 338.12,-361.5 338.12,-367.5 332.12,-373.5 326.12,-373.5"/>
<text text-anchor="middle" x="236" y="-358" font-family="Arial" font-size="10.00">Step 2: Extract identifiers</text>
<text text-anchor="middle" x="236" y="-346" font-family="Arial" font-size="10.00">Patient MRN, Order numbers, Provider IDs</text>
</g>
<!-- s1&#45;&gt;s2 -->
<g id="edge2" class="edge">
<title>s1&#45;&gt;s2</title>
<path fill="none" stroke="black" d="M236,-416.03C236,-406.97 236,-395.67 236,-385.36"/>
<polygon fill="black" stroke="black" points="239.5,-385.42 236,-375.42 232.5,-385.42 239.5,-385.42"/>
</g>
<!-- s3 -->
<g id="node4" class="node">
<title>s3</title>
<path fill="white" stroke="black" d="M311.12,-294.5C311.12,-294.5 160.88,-294.5 160.88,-294.5 154.88,-294.5 148.88,-288.5 148.88,-282.5 148.88,-282.5 148.88,-270.5 148.88,-270.5 148.88,-264.5 154.88,-258.5 160.88,-258.5 160.88,-258.5 311.12,-258.5 311.12,-258.5 317.12,-258.5 323.12,-264.5 323.12,-270.5 323.12,-270.5 323.12,-282.5 323.12,-282.5 323.12,-288.5 317.12,-294.5 311.12,-294.5"/>
<text text-anchor="middle" x="236" y="-279" font-family="Arial" font-size="10.00">Step 3: Resolve LOINC codes</text>
<text text-anchor="middle" x="236" y="-267" font-family="Arial" font-size="10.00">Map local codes to universal LOINC</text>
</g>
<!-- s2&#45;&gt;s3 -->
<g id="edge3" class="edge">
<title>s2&#45;&gt;s3</title>
<path fill="none" stroke="black" d="M236,-337.03C236,-327.97 236,-316.67 236,-306.36"/>
<polygon fill="black" stroke="black" points="239.5,-306.42 236,-296.42 232.5,-306.42 239.5,-306.42"/>
</g>
<!-- s4 -->
<g id="node5" class="node">
<title>s4</title>
<path fill="white" stroke="black" d="M330.62,-215.5C330.62,-215.5 141.38,-215.5 141.38,-215.5 135.38,-215.5 129.38,-209.5 129.38,-203.5 129.38,-203.5 129.38,-191.5 129.38,-191.5 129.38,-185.5 135.38,-179.5 141.38,-179.5 141.38,-179.5 330.62,-179.5 330.62,-179.5 336.62,-179.5 342.62,-185.5 342.62,-191.5 342.62,-191.5 342.62,-203.5 342.62,-203.5 342.62,-209.5 336.62,-215.5 330.62,-215.5"/>
<text text-anchor="middle" x="236" y="-200" font-family="Arial" font-size="10.00">Step 4: Map to FHIR resources</text>
<text text-anchor="middle" x="236" y="-188" font-family="Arial" font-size="10.00">Create Patient, ServiceRequest, Observation</text>
</g>
<!-- s3&#45;&gt;s4 -->
<g id="edge4" class="edge">
<title>s3&#45;&gt;s4</title>
<path fill="none" stroke="black" d="M236,-258.03C236,-248.97 236,-237.67 236,-227.36"/>
<polygon fill="black" stroke="black" points="239.5,-227.42 236,-217.42 232.5,-227.42 239.5,-227.42"/>
</g>
<!-- s5 -->
<g id="node6" class="node">
<title>s5</title>
<path fill="white" stroke="black" d="M327.62,-136.5C327.62,-136.5 144.38,-136.5 144.38,-136.5 138.38,-136.5 132.38,-130.5 132.38,-124.5 132.38,-124.5 132.38,-112.5 132.38,-112.5 132.38,-106.5 138.38,-100.5 144.38,-100.5 144.38,-100.5 327.62,-100.5 327.62,-100.5 333.62,-100.5 339.62,-106.5 339.62,-112.5 339.62,-112.5 339.62,-124.5 339.62,-124.5 339.62,-130.5 333.62,-136.5 327.62,-136.5"/>
<text text-anchor="middle" x="236" y="-121" font-family="Arial" font-size="10.00">Step 5: Add SNOMED CT</text>
<text text-anchor="middle" x="236" y="-109" font-family="Arial" font-size="10.00">Coded interpretations and qualitative results</text>
</g>
<!-- s4&#45;&gt;s5 -->
<g id="edge5" class="edge">
<title>s4&#45;&gt;s5</title>
<path fill="none" stroke="black" d="M236,-179.03C236,-169.97 236,-158.67 236,-148.36"/>
<polygon fill="black" stroke="black" points="239.5,-148.42 236,-138.42 232.5,-148.42 239.5,-148.42"/>
</g>
<!-- sr -->
<g id="node7" class="node">
<title>sr</title>
<path fill="white" stroke="black" d="M95.88,-52C95.88,-52 28.12,-52 28.12,-52 22.12,-52 16.12,-46 16.12,-40 16.12,-40 16.12,-28 16.12,-28 16.12,-22 22.12,-16 28.12,-16 28.12,-16 95.88,-16 95.88,-16 101.88,-16 107.88,-22 107.88,-28 107.88,-28 107.88,-40 107.88,-40 107.88,-46 101.88,-52 95.88,-52"/>
<text text-anchor="middle" x="62" y="-36.5" font-family="Arial" font-size="10.00">ServiceRequest</text>
<text text-anchor="middle" x="62" y="-24.5" font-family="Arial" font-size="10.00">(from ORC/OBR)</text>
</g>
<!-- s5&#45;&gt;sr -->
<g id="edge6" class="edge">
<title>s5&#45;&gt;sr</title>
<path fill="none" stroke="black" d="M164.09,-100.09C151.08,-95.78 137.88,-90.61 126,-84.5 113.02,-77.83 100.03,-68.42 89.18,-59.59"/>
<polygon fill="black" stroke="black" points="91.68,-57.12 81.78,-53.36 87.18,-62.47 91.68,-57.12"/>
</g>
<!-- obs -->
<g id="node8" class="node">
<title>obs</title>
<path fill="white" stroke="black" d="M200.25,-52C200.25,-52 155.75,-52 155.75,-52 149.75,-52 143.75,-46 143.75,-40 143.75,-40 143.75,-28 143.75,-28 143.75,-22 149.75,-16 155.75,-16 155.75,-16 200.25,-16 200.25,-16 206.25,-16 212.25,-22 212.25,-28 212.25,-28 212.25,-40 212.25,-40 212.25,-46 206.25,-52 200.25,-52"/>
<text text-anchor="middle" x="178" y="-36.5" font-family="Arial" font-size="10.00">Observation</text>
<text text-anchor="middle" x="178" y="-24.5" font-family="Arial" font-size="10.00">(1 per OBX)</text>
</g>
<!-- s5&#45;&gt;obs -->
<g id="edge7" class="edge">
<title>s5&#45;&gt;obs</title>
<path fill="none" stroke="black" d="M223.7,-100C215.86,-88.85 205.54,-74.17 196.69,-61.59"/>
<polygon fill="black" stroke="black" points="199.77,-59.88 191.15,-53.71 194.04,-63.9 199.77,-59.88"/>
</g>
<!-- dr -->
<g id="node9" class="node">
<title>dr</title>
<path fill="white" stroke="black" d="M327.88,-52C327.88,-52 260.12,-52 260.12,-52 254.12,-52 248.12,-46 248.12,-40 248.12,-40 248.12,-28 248.12,-28 248.12,-22 254.12,-16 260.12,-16 260.12,-16 327.88,-16 327.88,-16 333.88,-16 339.88,-22 339.88,-28 339.88,-28 339.88,-40 339.88,-40 339.88,-46 333.88,-52 327.88,-52"/>
<text text-anchor="middle" x="294" y="-36.5" font-family="Arial" font-size="10.00">DiagnosticReport</text>
<text text-anchor="middle" x="294" y="-24.5" font-family="Arial" font-size="10.00">(groups results)</text>
</g>
<!-- s5&#45;&gt;dr -->
<g id="edge8" class="edge">
<title>s5&#45;&gt;dr</title>
<path fill="none" stroke="black" d="M248.3,-100C256.14,-88.85 266.46,-74.17 275.31,-61.59"/>
<polygon fill="black" stroke="black" points="277.96,-63.9 280.85,-53.71 272.23,-59.88 277.96,-63.9"/>
</g>
<!-- spec -->
<g id="node10" class="node">
<title>spec</title>
<path fill="white" stroke="black" d="M430.12,-52C430.12,-52 387.88,-52 387.88,-52 381.88,-52 375.88,-46 375.88,-40 375.88,-40 375.88,-28 375.88,-28 375.88,-22 381.88,-16 387.88,-16 387.88,-16 430.12,-16 430.12,-16 436.12,-16 442.12,-22 442.12,-28 442.12,-28 442.12,-40 442.12,-40 442.12,-46 436.12,-52 430.12,-52"/>
<text text-anchor="middle" x="409" y="-36.5" font-family="Arial" font-size="10.00">Specimen</text>
<text text-anchor="middle" x="409" y="-24.5" font-family="Arial" font-size="10.00">(from SPM)</text>
</g>
<!-- s5&#45;&gt;spec -->
<g id="edge9" class="edge">
<title>s5&#45;&gt;spec</title>
<path fill="none" stroke="black" d="M322.52,-100C334.84,-95.84 347.03,-90.74 358,-84.5 368.78,-78.37 378.95,-69.42 387.34,-60.82"/>
<polygon fill="black" stroke="black" points="389.84,-63.27 394.06,-53.55 384.7,-58.52 389.84,-63.27"/>
</g>
</g>
</svg>
